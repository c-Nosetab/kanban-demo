/* SCSS Variables for toast theming */
$success-color: #bbec88;
$success-outline: #3a6a09;
$success-dark-bg: #21261c;
$success-dark-color: #3a6a09;

$info-color: #64f0fc;
$info-outline: #005965;
$info-dark-bg: #1b2425;
$info-dark-color: #005965;

$warn-color: #ffd75c;
$warn-outline: #c2731c;
$warn-dark-bg: #2e271e;
$warn-dark-color: #c2731c;

$error-color: #ff9d6f;
$error-outline: #af2f0d;
$error-dark-bg: #2d201c;
$error-dark-color: #af2f0d;

/* Main toast component */
.toast-container {
  position: fixed;
  bottom: 24px;
  left: 24px;
  z-index: 9000;
  display: flex;
  flex-direction: column-reverse; /* New toasts appear at bottom, push others up */
  gap: 10px;
  pointer-events: none;
  max-width: 400px;
  overflow: visible; /* Allow shadows to extend beyond container */
  min-height: 120px; /* Reserve space for slide-down animations without affecting layout */
}

/* Enable smooth layout animations */
.toast-container {
  /* Use CSS layout transitions for smoother animations */
  contain: layout;
}

/* toast-container-inner not needed with flexbox approach */

.toast {
  /* Clean flexbox positioning */
  display: flex;
  flex-direction: row;
  align-items: center;
  pointer-events: auto;

  /* Sizing and spacing */
  max-width: 322px;
  padding: 16px;
  gap: 8px;

  /* Visual styling */
  background-color: $success-color;
  border-radius: 4px;
  box-shadow: 0px 4px 14px 0px rgba(0, 0, 0, 0.25);

  /* Typography and alignment */
  text-align: left;
  cursor: pointer;

  /* Smooth animations for all state changes including layout changes */
  transform: translateX(-400px);
  opacity: 0;
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);

  &.show {
    transform: translateX(0);
    opacity: 1;
  }

  &.hide {
    transform: translateX(-400px);
    opacity: 0;
  }

  &.hide-down {
    transform: translateY(100px) !important;
    opacity: 0 !important;
    transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  }

/* Collapse class no longer needed - using translateY instead */

  /* Span elements */
  span {
    max-width: 220px;

    &.full-text {
      display: none;
    }
  }

  /* Size variants */
  &.dense {
    padding: 8px 16px;
  }

  &.tall {
    padding: 28px 16px;
  }

  &.outline {
    background: white !important;
  }

  /* Type variants */
  &.success {
    background: $success-color;

    &.outline {
      border: 1px solid $success-outline;
      color: $success-outline;
    }

    &.dark {
      border: none;
      background: $success-dark-bg;
      color: $success-dark-color;
    }
  }

  &.info {
    background: $info-color;

    &.outline {
      border: 1px solid $info-outline;
      color: $info-outline;
    }

    &.dark {
      border: none;
      background: $info-dark-bg;
      color: $info-dark-color;
    }
  }

  &.warn {
    background: $warn-color;

    &.outline {
      border: 1px solid $warn-outline;
      color: $warn-outline;
    }

    &.dark {
      border: none;
      background: $warn-dark-bg;
      color: $warn-dark-color;
    }
  }

  &.error {
    background: $error-color;

    &.outline {
      border: 1px solid $error-outline;
      color: $error-outline;
    }

    &.dark {
      border: none;
      background: $error-dark-bg;
      color: $error-dark-color;
    }
  }

  /* Hover interactions */
  &:hover {
    .close {
      color: #005965;
    }

    span {
      display: none;

      &.full-text {
        display: block;
      }
    }
  }
}

.remove-all-toasts {
  position: fixed;
  bottom: 24px;
  left: 350px;
  z-index: 9999;
  background: none;
  border: 1px solid #005965;
  border-radius: 4px;
  padding: 8px 12px;
  color: #005965;
  cursor: pointer;
  font-size: 0.875rem;

  /* Smooth show/hide animation */
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.3s ease;
  pointer-events: none;

  &.show {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  &:hover {
    background: #005965;
    color: white;
  }
}

@media (max-width: 768px) {
  .remove-all-toasts {
    display: none;
  }
  .toast-container {
    left: 16px;
    scale: 0.8;
    transform-origin: bottom left;
  }
}

@media (max-width: 480px) {
  .remove-all-toasts {
    display: none;
  }
  .toast-container {
    left: 8px;
    scale: 0.7;
    transform-origin: bottom left;
  }
}