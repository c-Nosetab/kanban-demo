<div class="task-card" [class.overdue]="isOverdue()" [class.done]="isDone()">
  <div class="task-header">
    <h4 class="task-title" [class.done]="isDone()">{{ task.title }}</h4>
    <div class="task-actions">
      <button class="edit-btn" (click)="onEdit()" title="Edit task">✏️</button>
      <button class="delete-btn" (click)="onDelete()" title="Delete task">🗑️</button>
    </div>
  </div>

  @if (task.description) {
  <p class="task-description" [class.done]="isDone()">{{ task.description }}</p>
  }

  <div class="task-footer" [class.done]="isDone()">
    <div class="task-priority" [ngClass]="getPriorityClass()">
      <span class="priority-icon">{{ getPriorityIcon() }}</span>
      <span class="priority-text">{{ task.priority | titlecase }}</span>
    </div>

    @if (task.dueDate) {
    <div class="task-due-date" [class.overdue]="isOverdue()">
      Due: {{ formatDate(task.dueDate) }}
    </div>
    }
  </div>

  <div class="drag-handle" title="Drag to move">⋮⋮</div>
</div>
